1. # 1. Đặt điểm của user_id là 499 và test gửi log 1 bài =>

=> Log được xử lý 

= > User được tăng điểm và tăng level. 

=> Khi friendship_score >= 500 → tự động đổi thành PHASE2_ACQUAINTANCE

```
logic tăng user_friendship_level và topic_level khác nhau như nào ?
```

Điều kiện:* PHASE1_STRANGER: 0 <= score < 500

* PHASE2_ACQUAINTANCE: 500 <= score < 3000
* PHASE3_FRIEND: score >= 3000

# 2. Check xem các bài topic_level có được update không


* PHASE1_STRANGER: topic_score < 50
* PHASE2_ACQUAINTANCE: topic_score >= 50 và user_level >= PHASE2
* PHASE3_FRIEND: topic_score >= 150 và user_level >= PHASE3


# 3. Test Suggest 



# Test:

user_doanngoccuong_minh

{"story": {"score": 287.0, "turns": 21, "last_date": "2025-11-27T20:49:18.696976Z", "agents_used": ["agent_story_telling"], "friendship_level": "PHASE2_ACQUAINTANCE"}}

{
  "success": true,
  "data": {
    "user_id": "user_doanngoccuong_minh",
    "friendship_level": "PHASE2_ACQUAINTANCE",
    "greeting_agent": {
      "agent_id": "general_greeting",
      "agent_name": "General Greeting",
      "agent_type": "GREETING",
      "friendship_level": "PHASE2_ACQUAINTANCE",
      "topic_id": "general_greeting",
      "agent_description": "{{CURRENT_EVENT}}",
      "final_prompt": "",
      "reason": "Phase default greeting",
      "metadata": null
    },
    "talk_agents": [
      {
        "agent_id": "agent_daily_routine",
        "agent_name": "Agent Daily Routine",
        "agent_type": "TALK",
        "friendship_level": "PHASE1_STRANGER",
        "topic_id": "Daily_Routine ",
        "agent_description": "\"4. OPENING GUIDE (DAILY ROUTINE)",
        "final_prompt": "",
        "reason": "New topic exploration (PHASE1)",
        "metadata": null
      },
      {
        "agent_id": "agent_game",
        "agent_name": "Agent Game",
        "agent_type": "TALK",
        "friendship_level": "PHASE1_STRANGER",
        "topic_id": "Game",
        "agent_description": "4. OPENING GUIDE (HOBBY)",
        "final_prompt": "",
        "reason": "New topic exploration (PHASE1)",
        "metadata": null
      },
      {
        "agent_id": "agent_hobby_general ",
        "agent_name": "Agent Hobby General ",
        "agent_type": "TALK",
        "friendship_level": "PHASE1_STRANGER",
        "topic_id": "Hobby General",
        "agent_description": "4. OPENING GUIDE (HOBBY)",
        "final_prompt": "",
        "reason": "New topic exploration (PHASE1)",
        "metadata": null
      }
    ],
    "game_agents": [
      {
        "agent_id": "agent_story_telling",
        "agent_name": "Agent Story Telling",
        "agent_type": "GAME",
        "friendship_level": "PHASE2_ACQUAINTANCE",
        "topic_id": "story",
        "agent_description": "4. LỘ TRÌNH TRÒ CHUYỆN HÔM NAY (TODAY'S TALKING AGENDA): GAME \"CÙNG NHAU SÁNG TẠO CÂU CHUYỆN\"",
        "final_prompt": "",
        "reason": "Game preference",
        "metadata": {
          "topic_score": 287.0,
          "total_turns": 21
        }
      },
      {
        "agent_id": "agent_play_game",
        "agent_name": "Agent Play Game",
        "agent_type": "GAME",
        "friendship_level": "PHASE1_STRANGER",
        "topic_id": "trò đố từ",
        "agent_description": "4. TODAY'S TALKING AGENDA): GAME \"ĐỐ BIẾT TỪ GÌ\"",
        "final_prompt": "",
        "reason": "New topic exploration (PHASE1)",
        "metadata": null
      }
    ]
  },
  "message": "Activities suggested successfully"
}
